#!/bin/bash

# Variables
REPO_NAME="medibot"
GITHUB_USER="Prajwal367"

# Create project folder
mkdir $REPO_NAME
cd $REPO_NAME

# Initialize Git
git init -b main

# Create basic folder structure
mkdir server client

# --- Backend (server) ---
cat > server/index.js << 'EOF'
const express = require("express");
const cors = require("cors");
const app = express();
const PORT = process.env.PORT || 5000;

app.use(cors());
app.use(express.json());

app.get("/", (req, res) => {
  res.json({ message: "MediBot API running", creator: "Prajwal Mitra" });
});

app.listen(PORT, () => {
  console.log(\`Server running on port \${PORT}\`);
});
EOF

cat > server/package.json << 'EOF'
{
  "name": "medibot-server",
  "version": "1.0.0",
  "main": "index.js",
  "scripts": {
    "start": "node index.js"
  },
  "dependencies": {
    "express": "^4.18.2",
    "cors": "^2.8.5"
  }
}
EOF

# --- Frontend (client) ---
cat > client/index.html << 'EOF'
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MediBot</title>
</head>
<body>
  <h1>MediBot - Medical AI Chatbot</h1>
  <p>Made by Prajwal Mitra</p>
</body>
</html>
EOF

cat > client/package.json << 'EOF'
{
  "name": "medibot-client",
  "version": "1.0.0",
  "scripts": {
    "start": "npx serve"
  },
  "dependencies": {}
}
EOF

# Commit to Git
git add .
git commit -m "Initial commit: MediBot Starter"

# Push to GitHub
git remote add origin https://github.com/$GITHUB_USER/$REPO_NAME.git
git push -u origin main

echo "Project created and pushed! Check: https://github.com/$GITHUB_USER/$REPO_NAME"
